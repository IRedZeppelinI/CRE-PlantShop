@model IEnumerable<PlantShop.Application.DTOs.Shop.ArticleDto>
@{
    ViewData["Title"] = "Gestão de Artigos";
}

<h1>@ViewData["Title"]</h1>

<p>
    <a asp-action="CreateArticle" class="btn btn-primary">
        <i class="bi bi-plus-circle-fill"></i> Adicionar Novo Artigo
    </a>
</p>

<div class="table-responsive shadow-sm">
    <table class="table table-striped table-hover align-middle">
        <thead class="table-dark">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.CategoryName)
                </th>
                <th class="text-end">
                    @Html.DisplayNameFor(model => model.Price)
                </th>
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.StockQuantity)
                </th>
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.IsFeatured)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @if (!string.IsNullOrEmpty(item.ImageUrl))
                        {
                            <img src="@item.ImageUrl" alt="@item.Name"
                                 style="width: 40px; height: 40px; object-fit: cover; border-radius: 5px; margin-right: 10px;" />
                        }
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CategoryName)
                    </td>
                    <td class="text-end">
                        @item.Price.ToString("C")
                    </td>
                    <td class="text-center">
                        @Html.DisplayFor(modelItem => item.StockQuantity)
                    </td>
                    <td class="text-center">
                        @(item.IsFeatured ? "Sim" : "Não")
                    </td>
                    <td class="text-end" style="min-width: 180px;">
                        <a asp-action="EditArticle" asp-route-id="@item.Id"
                           class="btn btn-sm btn-warning">
                            <i class="bi bi-pencil-fill"></i> Editar
                        </a>
                        <a asp-action="DeleteArticle" asp-route-id="@item.Id"
                           class="btn btn-sm btn-danger">
                            <i class="bi bi-trash-fill"></i> Apagar
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>